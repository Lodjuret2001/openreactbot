var openreactbot;(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p:"/"},t={};e.r(t),e.d(t,{default:()=>f});const a=e.p+"assets/c6d9cf0984c32e85af609bfd1b99a826.png",n=e.p+"assets/f951bf1f14acd8697f1ddebbefa6a4de.png",o=e.p+"assets/8242182bd05f6cdbd143f7df58d0038b.png",r=openai;var s=e.n(r);const c=react;var l=e.n(c);const i=react-chatbot-kit;var d=e.n(i);const m=(e,t,a,n,o,r,s)=>{let c=[{role:"assistant",content:`${r}`}];return{botName:e,initialMessages:[(0,i.createChatBotMessage)(r,{})],customComponents:{header:()=>(e=>l().createElement("div",{className:"react-chatbot-kit-chat-header"},e))(t),botAvatar:()=>(e=>l().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar-container"},l().createElement("img",{className:"react-chatbot-kit-chat-bot-avatar-icon",src:e})))(a),userAvatar:()=>(e=>l().createElement("div",{className:"react-chatbot-kit-user-avatar-container"},l().createElement("img",{className:"react-chatbot-kit-user-avatar-icon",src:e})))(n)},state:{aiConfig:o,openai:s,openAIMessages:c}}},g=({children:e})=>l().createElement("div",{className:"react-chatbot-kit-main-container"},e),h=({handleSetIsOpen:e})=>l().createElement("button",{className:"react-chatbot-kit-close-btn",onClick:()=>e()},"X"),p=({children:e,createChatBotMessage:t,setState:a,state:n})=>{const o=e=>{const o=n.openai,{prompt:r,model:s}=n.aiConfig,c=n.openAIMessages,l={content:e,role:"assistant"};!async function(){const e=function(e){if("string"==typeof e)return{role:"user",content:e};{const{role:t,content:a}=e;if(null===a)throw new Error("Content from ChatGPT was 'null'...");return{role:t,content:a}}}((await o.chat.completions.create({model:s,messages:[{role:"system",content:`${r}`},...c,l]})).choices[0].message),n=t(e.content,{loading:!1});a((t=>({...t,messages:[...t.messages,n],openAIMessages:[...t.openAIMessages,l,e]})))}()},r=()=>{const e=t("Sorry I didnt understand that!",{loading:!0});a((t=>({...t,messages:[...t.messages,e]})))};return l().createElement("div",null,l().Children.map(e,(e=>l().cloneElement(e,{actions:{handleSend:o,handleEmptyString:r}}))))},u=({actions:e,children:t})=>{const a=t=>{"string"==typeof t&&""!==t?e.handleSend(t):e.handleEmptyString()};return l().createElement("div",null,l().Children.map(t,(t=>l().cloneElement(t,{parse:a,actions:e}))))},b=({styles:e,handleSetIsOpen:t})=>{const{logo:a,logoWidth:n,logoHeight:o,logoBorderRadius:r,bottom:s,left:c,right:i}=e,d={background:`url(${a})`,backgroundSize:"cover",width:n,height:o,borderRadius:r,border:"none",position:"fixed",bottom:s,left:c,right:i};return l().createElement("button",{style:d,onClick:()=>t()})},f=({API_KEY:e,AIConfig:t,stylesConfig:r})=>{const[i,f]=(0,c.useState)(!1),v=(e=>{const t={apiKey:e,dangerouslyAllowBrowser:!0};return new(s())(t)})(e),y=(e=>({bottom:"30px",chatBotImg:`${a}`,headerText:"Conversation with OpenReactBot",left:"",logo:`${o}`,logoBorderRadius:"50px",logoHeight:"100px",logoWidth:"100px",name:"OpenReactBot",right:"20px",userImg:`${n}`,...e}))(r),E=()=>{f(!i)},S=m(y.name,y.headerText,y.chatBotImg,y.userImg,t,t.startMessage,v);return l().createElement(l().Fragment,null,i?l().createElement(g,null,l().createElement(h,{handleSetIsOpen:E}),l().createElement(d(),{config:S,actionProvider:p,messageParser:u})):l().createElement(b,{styles:y,handleSetIsOpen:E}))};openreactbot=t})();